<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Information Overload WebGPU</title>
  <style>
    /* Reset & overall theme */
    html, body {
      margin: 0;
      padding: 0;
      background-color: black;
      color: #0f0; /* Hacker green */
      font-family: "Lucida Console", Monaco, monospace;
      overflow: hidden; /* Avoid scrollbars */
    }

    /* Control panel (overlay in top-left corner) */
    #controls {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(0, 0, 0, 0.5); /* Semi-transparent black */
      border: 1px solid #0f0;
      border-radius: 3px;
      padding: 12px;
      z-index: 10; /* Ensure it stays above the canvas */
    }
    label, button, p {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
    }

    /* Range sliders: green thumb or default depends on the browser */
    input[type="range"] {
      width: 200px;
      margin: 4px 0;
      background-color: #222;
    }
    /* Fade and switch display values next to the sliders */
    #fadeValue, #switchValue {
      margin-left: 6px;
      width: 40px;
      display: inline-block;
      text-align: left;
    }

    /* Flicker animation for the panel to mimic CRT chatter */
    @keyframes flicker {
      0%   { opacity: 1; }
      50%  { opacity: 0.8; }
      90%  { opacity: 0.6; }
      100% { opacity: 1; }
    }
    #controls {
      animation: flicker 1.5s infinite alternate;
    }

    /* The canvas fills the entire viewport for maximum effect */
    #canvas {
      display: block;
      width: 100vw;
      height: 100vh;
      background-color: black;
    }

    /* Optional scanline overlay for CRT vibe */
    .scanline {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background: repeating-linear-gradient(
              to bottom,
              rgba(0,0,0,0) 0px,
              rgba(0,0,0,0) 2px,
              rgba(0,0,0,0.02) 3px
      );
    }
  </style>
</head>
<body>

<!-- Control panel -->
<div id="controls">
  <label for="fadeSlider">Fade Factor (0.0 to 1.0):</label>
  <input type="range" id="fadeSlider" min="0" max="1" step="0.01" value="0.5" />
  <span id="fadeValue">0.50</span>

  <label for="switchSlider">Image Switch Interval (seconds):</label>
  <input type="range" id="switchSlider" min="0.1" max="5.0" step="0.1" value="0.33" />
  <span id="switchValue">0.33</span>

  <button id="updateBufferUsage">Check Buffer Usage</button>
  <p id="bufferUsageLabel">Buffer usage: 0 / ???</p>
</div>

<!-- The main rendering surface -->
<canvas id="canvas"></canvas>

<!-- Optional scanline overlay to evoke an old monitor -->
<div class="scanline"></div>

<!-- 1) Emscripten-generated JS loading your WASM -->
<script src="index.js"></script>

<!-- 2) Your custom script (WebSocket, UI interactions, etc.) -->
<script src="app.js"></script>

</body>
</html>
